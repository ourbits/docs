OurBits 站点 API 文档
----------------

2021年9月起，本站将迁移多数方法到新的 JSONAPI 中，抛弃并迁移 原有 ajax 加载网页的方法，以及原 `api.php` 路径下相关方法。
本处为站点新的 API 文档相关说明。

最近更新： `2021-09-11 21:29`

请注意： 
 - 此处所有 API 介绍均非 stable 状态，请勿依赖，或经常性检查本文档。
 - 本文档不提供任何解释。请注意站点规则中 **`用户存在以下行为的将会被封禁账号: 1.对网站使用自动脚本或工具危害到网站正常运转;`**

# API 介绍

- API 路径： `jsonapi.php`
- 请求方法： 除非接口特别说明，否则均为 GET 请求
- 请求参数： 
  - 无论是否为GET请求，请求字段 `&action=` （下称`接口请求动作`）均必备，格式说明见 [nikic/FastRoute](https://github.com/nikic/FastRoute#defining-routes)，此处不再累述
  - 其余参数（在 `params` 还是 `body` 中）见各接口方法介绍
- 除用户认证接口（ user/{~~signup~~, login} ）外，其余方法均需要用户凭证，之后不做额外说明（凭证提供方法见下）
- 接口响应格式：
   ```json
   {"success":false, "data":null}
   ```
   - 如果响应成功，则响应数据在 `data` 字段中（下方成功响应实例均在该字段中），同时 `success` 字段值为真。
   - 如果相应失败，则 `data` 字段为 `null` ，此外还会存在 `errorCode`, `errorMsg` 字段，请根据 [ErrorCode 说明](#99-errorcode-说明) 进行检查。

## 用户凭证




# 1. 用户认证

// TODO 


# 2. 用户信息

// TODO

# 3. 种子信息

## 3.1 种子基本信息

// TODO

## 3.2 种子文件列表

- 接口功能：获取文件树形式的种子文件列表
- 接口请求动作： `torrent/{id:\d+}/files`
- 成功响应示例：
  - 对于单文件种子：
  ```json5
  {
      "torrentName": {   // 种子名
          "file1": 12345678   // 文件+大小
      }
  }
  ```
  
  - 对于多文件种子：
  ```json5
  {
      "torrentName": {   // 种子名
          "Dir1": {   // 子文件夹
              "file1": 12345678,   //  文件+大小
          },
          "file2": 12345678,
          "file3": 12345678 
      }
  }
  ```



// TODO

# // TODO



# 第三方支持

// TODO

# 99. ErrorCode 说明

| ErrorCode | 说明 |
|:-----:|:------|
| 4001 | 请求方法、请求接口、请求参数中存在错误，未能检索到对应处理方法或请求参数不合法。 |
| 4002 | 请求的对应资源不存在 |
| 9999 | 未指定错误 |
